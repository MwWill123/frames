<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Cliente | FRAMES</title>
    <link rel="stylesheet" href="/css/dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Sidebar -->
    <aside class="dashboard-sidebar">
        <div class="sidebar-header">
            <h1 class="logo">FRAMES</h1>
        </div>
        
        <nav class="sidebar-nav">
            <a href="#dashboard" class="nav-item active" onclick="switchView('dashboard')">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="3" width="6" height="6" rx="1"/>
                    <rect x="11" y="3" width="6" height="6" rx="1"/>
                    <rect x="3" y="11" width="6" height="6" rx="1"/>
                    <rect x="11" y="11" width="6" height="6" rx="1"/>
                </svg>
                <span>Dashboard</span>
            </a>
            
            <a href="#projects" class="nav-item" onclick="switchView('projects')">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="3" y="5" width="14" height="12" rx="2"/>
                    <path d="M3 9h14"/>
                </svg>
                <span>Meus Projetos</span>
            </a>
            
            <a href="#search" class="nav-item" onclick="switchView('search')">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="9" cy="9" r="6"/>
                    <path d="M14 14l4 4"/>
                </svg>
                <span>Buscar Editores</span>
            </a>
            
            <a href="#messages" class="nav-item">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M18 8A7 7 0 104 8v4l3-2h4a7 7 0 007-2z"/>
                </svg>
                <span>Mensagens</span>
                <span class="badge">3</span>
            </a>
            
            <a href="#payments" class="nav-item">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                    <rect x="2" y="5" width="16" height="10" rx="2"/>
                    <path d="M2 9h16"/>
                </svg>
                <span>Pagamentos</span>
            </a>
        </nav>
        
        <div class="sidebar-footer">
            <div class="user-profile">
                <img src="https://ui-avatars.com/api/?name=Cliente&background=00FFF0&color=0A0A0A" alt="Avatar" class="user-avatar">
                <div class="user-info">
                    <div class="user-name" id="userName">Cliente</div>
                    <div class="user-role">Cliente</div>
                </div>
            </div>
            <button class="btn-logout" id="logoutBtn" title="Sair">
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 7l5 5-5 5M19 12H9M13 2H5a2 2 0 00-2 2v12a2 2 0 002 2h8"/>
                </svg>
            </button>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="dashboard-main">
        <!-- Top Bar -->
        <div class="top-bar">
            <h2 class="page-title">Dashboard</h2>
            <div class="top-bar-actions">
                <button class="btn-icon" title="Notificações">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 7a5 5 0 11-10 0M10 17v1M7.5 17h5a1.5 1.5 0 001.5-1.5v0a1.5 1.5 0 00-1.5-1.5h-5a1.5 1.5 0 00-1.5 1.5v0a1.5 1.5 0 001.5 1.5z"/>
                    </svg>
                    <span class="notification-dot"></span>
                </button>
                <button class="btn-primary" id="newProjectBtn">
                    <svg width="20" height="20" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M10 4v12M4 10h12"/>
                    </svg>
                    <span>Novo Projeto</span>
                </button>
            </div>
        </div>

        <!-- Dashboard Content -->
        <div class="dashboard-content" id="dashboardView">
            <!-- Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon blue">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <path d="M12 6v6l4 2"/>
                        </svg>
                    </div>
                    <div class="stat-info">
                        <span class="stat-label">Projetos Ativos</span>
                        <span class="stat-value" id="activeProjects">0</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon green">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 11.08V12a10 10 0 11-5.93-9.14"/>
                            <path d="M22 4L12 14.01l-3-3"/>
                        </svg>
                    </div>
                    <div class="stat-info">
                        <span class="stat-label">Concluídos</span>
                        <span class="stat-value" id="completedProjects">0</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon purple">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2v20M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"/>
                        </svg>
                    </div>
                    <div class="stat-info">
                        <span class="stat-label">Total Investido</span>
                        <span class="stat-value" id="totalSpent">R$ 0,00</span>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon orange">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"/>
                            <circle cx="9" cy="7" r="4"/>
                            <path d="M23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"/>
                        </svg>
                    </div>
                    <div class="stat-info">
                        <span class="stat-label">Editores Trabalhados</span>
                        <span class="stat-value" id="editorsWorked">0</span>
                    </div>
                </div>
            </div>

            <!-- Recent Projects -->
            <div class="content-section">
                <div class="section-header">
                    <h3>Projetos Recentes</h3>
                    <a href="#projects" class="link-view-all">Ver Todos</a>
                </div>
                <div id="recentProjects">
                    <!-- Loaded dynamically -->
                </div>
            </div>

            <!-- Recommended Editors -->
            <div class="content-section">
                <div class="section-header">
                    <h3>Editores Recomendados</h3>
                    <a href="#search" class="link-view-all">Ver Mais</a>
                </div>
                <div id="recommendedEditors" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 1.5rem;">
                    <!-- Loaded dynamically -->
                </div>
            </div>
        </div>

        <!-- Projects View (Hidden by default) -->
        <div class="dashboard-content hidden" id="projectsView">
            <h3>Todos os Projetos</h3>
            <p style="color: var(--text-secondary);">Visualização completa em desenvolvimento...</p>
        </div>

        <!-- Search View (Hidden by default) -->
        <div class="dashboard-content hidden" id="searchView">
            <h3>Buscar Editores</h3>
            <p style="color: var(--text-secondary);">Sistema de busca em desenvolvimento...</p>
        </div>
    </main>

    <!-- New Project Modal -->
    <div class="modal-overlay" id="newProjectModal">
        <div class="modal-container">
            <div class="modal-header">
                <h2>Criar Novo Projeto</h2>
                <button class="btn-close" id="closeModal">&times;</button>
            </div>

            <!-- Wizard -->
            <div class="wizard-container">
                <!-- Steps Indicator -->
                <div class="wizard-steps">
                    <div class="wizard-step active">
                        <div class="step-number">1</div>
                        <span class="step-label">Tipo de Vídeo</span>
                    </div>
                    <div class="wizard-step">
                        <div class="step-number">2</div>
                        <span class="step-label">Detalhes</span>
                    </div>
                    <div class="wizard-step">
                        <div class="step-number">3</div>
                        <span class="step-label">Orçamento</span>
                    </div>
                    <div class="wizard-step">
                        <div class="step-number">4</div>
                        <span class="step-label">Referências</span>
                    </div>
                </div>

                <!-- Wizard Form -->
                <form id="newProjectForm">
                    <!-- Step 1: Video Type -->
                    <div class="wizard-content active" data-step="1">
                        <h3>Qual tipo de vídeo você precisa?</h3>
                        <p class="step-description">Escolha a categoria que melhor descreve seu projeto</p>
                        
                        <div class="video-types-grid">
                            <label class="video-type-card">
                                <input type="radio" name="specialty" value="VLOG" required>
                                <div class="type-content">
                                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" stroke="currentColor" stroke-width="2">
                                        <circle cx="20" cy="20" r="16"/>
                                        <circle cx="20" cy="20" r="4"/>
                                    </svg>
                                    <span class="type-name">Vlog</span>
                                    <span class="type-desc">Conteúdo pessoal</span>
                                </div>
                            </label>

                            <label class="video-type-card">
                                <input type="radio" name="specialty" value="COMMERCIAL">
                                <div class="type-content">
                                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="8" y="12" width="24" height="16" rx="2"/>
                                        <path d="M8 20h24"/>
                                    </svg>
                                    <span class="type-name">Comercial</span>
                                    <span class="type-desc">Publicidade</span>
                                </div>
                            </label>

                            <label class="video-type-card">
                                <input type="radio" name="specialty" value="REELS_TIKTOK">
                                <div class="type-content">
                                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="14" y="4" width="12" height="32" rx="2"/>
                                        <line x1="14" y1="14" x2="26" y2="14"/>
                                    </svg>
                                    <span class="type-name">Reels/TikTok</span>
                                    <span class="type-desc">Vertical curto</span>
                                </div>
                            </label>

                            <label class="video-type-card">
                                <input type="radio" name="specialty" value="YOUTUBE">
                                <div class="type-content">
                                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="4" y="12" width="32" height="16" rx="2"/>
                                        <path d="M16 16l8 4-8 4z" fill="currentColor"/>
                                    </svg>
                                    <span class="type-name">YouTube</span>
                                    <span class="type-desc">Long-form</span>
                                </div>
                            </label>

                            <label class="video-type-card">
                                <input type="radio" name="specialty" value="DOCUMENTARY">
                                <div class="type-content">
                                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="8" y="12" width="24" height="16" rx="2"/>
                                        <path d="M14 18h12M14 22h8"/>
                                    </svg>
                                    <span class="type-name">Documentário</span>
                                    <span class="type-desc">Storytelling</span>
                                </div>
                            </label>

                            <label class="video-type-card">
                                <input type="radio" name="specialty" value="GAMEPLAY">
                                <div class="type-content">
                                    <svg width="40" height="40" viewBox="0 0 40 40" fill="none" stroke="currentColor" stroke-width="2">
                                        <rect x="8" y="14" width="24" height="12" rx="2"/>
                                        <circle cx="16" cy="20" r="2"/>
                                        <line x1="26" y1="18" x2="26" y2="22"/>
                                        <line x1="24" y1="20" x2="28" y2="20"/>
                                    </svg>
                                    <span class="type-name">Gameplay</span>
                                    <span class="type-desc">Gaming</span>
                                </div>
                            </label>
                        </div>
                    </div>

                    <!-- Step 2: Project Details -->
                    <div class="wizard-content" data-step="2">
                        <h3>Detalhes do Projeto</h3>
                        <p class="step-description">Conte-nos mais sobre o que você precisa</p>

                        <div class="form-group">
                            <label>Título do Projeto *</label>
                            <input type="text" name="title" placeholder="Ex: Vídeo promocional para lançamento" required>
                        </div>

                        <div class="form-group">
                            <label>Descrição *</label>
                            <textarea name="description" rows="4" placeholder="Descreva o que você precisa..." required></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>Duração Mínima (minutos)</label>
                                <input type="number" name="duration_min" placeholder="Ex: 2" min="0">
                            </div>
                            <div class="form-group">
                                <label>Duração Máxima (minutos)</label>
                                <input type="number" name="duration_max" placeholder="Ex: 5" min="0">
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>Prazo de Entrega *</label>
                                <input type="date" name="deadline" required>
                            </div>
                            <div class="form-group">
                                <label>Proporção</label>
                                <select name="aspect_ratio">
                                    <option value="16:9">16:9 (Horizontal)</option>
                                    <option value="9:16">9:16 (Vertical)</option>
                                    <option value="1:1">1:1 (Quadrado)</option>
                                    <option value="4:5">4:5 (Instagram)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Step 3: Budget -->
                    <div class="wizard-content" data-step="3">
                        <h3>Orçamento</h3>
                        <p class="step-description">Defina quanto você está disposto a investir</p>

                        <div class="budget-type-selector">
                            <label class="budget-type-card">
                                <input type="radio" name="budget_type" value="fixed" checked>
                                <div class="budget-content">
                                    <span class="budget-label">Preço Fixo</span>
                                    <span class="budget-desc">Valor fechado pelo projeto completo</span>
                                </div>
                            </label>

                            <label class="budget-type-card">
                                <input type="radio" name="budget_type" value="hourly">
                                <div class="budget-content">
                                    <span class="budget-label">Por Hora</span>
                                    <span class="budget-desc">Pagamento por hora trabalhada</span>
                                </div>
                            </label>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>Orçamento Mínimo (R$)</label>
                                <div class="input-currency">
                                    <span>R$</span>
                                    <input type="number" name="budget_min" placeholder="500" min="0" step="50">
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Orçamento Máximo (R$)</label>
                                <div class="input-currency">
                                    <span>R$</span>
                                    <input type="number" name="budget_max" placeholder="1000" min="0" step="50">
                                </div>
                            </div>
                        </div>

                        <div class="budget-suggestions">
                            <p>Sugestões baseadas no mercado:</p>
                            <button type="button" class="budget-suggestion" data-min="500" data-max="1000">
                                <strong>Básico</strong> <span>R$ 500 - R$ 1.000</span>
                            </button>
                            <button type="button" class="budget-suggestion" data-min="1000" data-max="3000">
                                <strong>Profissional</strong> <span>R$ 1.000 - R$ 3.000</span>
                            </button>
                            <button type="button" class="budget-suggestion" data-min="3000" data-max="10000">
                                <strong>Premium</strong> <span>R$ 3.000 - R$ 10.000</span>
                            </button>
                        </div>
                    </div>

                    <!-- Step 4: References -->
                    <div class="wizard-content" data-step="4">
                        <h3>Referências (Opcional)</h3>
                        <p class="step-description">Adicione vídeos de referência ou notas adicionais</p>

                        <div class="form-group">
                            <label>URLs de Referência</label>
                            <input type="url" name="reference_url[]" placeholder="https://youtube.com/watch?v=...">
                            <input type="url" name="reference_url[]" placeholder="https://vimeo.com/...">
                        </div>

                        <div class="form-group">
                            <label>Notas Adicionais</label>
                            <textarea name="additional_notes" rows="4" placeholder="Qualquer informação extra que possa ajudar o editor..."></textarea>
                        </div>
                    </div>

                    <!-- Navigation Buttons -->
                    <div class="wizard-navigation">
                        <button type="button" class="btn-secondary hidden" id="prevStepBtn">Voltar</button>
                        <button type="button" class="btn-primary" id="nextStepBtn">Próximo</button>
                        <button type="submit" class="btn-primary hidden" id="submitProjectBtn">Publicar Projeto</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="spinner"></div>
        <p>Carregando...</p>
    </div>

    <!-- Toast Container -->
    <div id="toast" class="toast"></div>

    <script src="/js/client-dashboard.js"></script>
    <script>
        function switchView(view) {
            // Remove active from all nav items
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            
            // Add active to clicked item
            event.target.closest('.nav-item').classList.add('active');
            
            // Hide all views
            document.querySelectorAll('.dashboard-content').forEach(content => content.classList.add('hidden'));
            
            // Show selected view
            const viewMap = {
                'dashboard': 'dashboardView',
                'projects': 'projectsView',
                'search': 'searchView'
            };
            
            const targetView = document.getElementById(viewMap[view]);
            if (targetView) {
                targetView.classList.remove('hidden');
            }
        }
    </script>
</body>
</html>